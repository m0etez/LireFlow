# LireFlow

<p align="center">
  <img src="logo.jpg" alt="LireFlow Logo" width="200">
</p>

A modern, native macOS RSS reader built with SwiftUI and SwiftData.

![macOS](https://img.shields.io/badge/macOS-14.0+-blue)
![Swift](https://img.shields.io/badge/Swift-5.9+-orange)
![License](https://img.shields.io/badge/License-MIT-green)

> ðŸŽ¨ Logo generated by **Nano Banana**  
> ðŸ¤– Entire project vibecoded by **Claude Opus**

## Features

### ðŸ“° Feed Management

- Add RSS/Atom feeds from any URL
- **Quick add from clipboard** - Auto-detects URLs when adding feeds
- **Feed search/filter** - Quickly find feeds in sidebar with real-time filtering
- Organize feeds into folders
- Drag and drop feeds between folders
- Automatic feed icon fetching via Google Favicons
- **Feed health monitoring** - Visual indicators for broken or stale feeds
- Last update time tracking with relative timestamps
- **200+ default feeds** across 25+ categories (Tech, News, AI, Security, Gaming, France, etc.)

### ðŸ“– Article Reading

- Clean, distraction-free reading view
- **Reading time estimates** - Shows estimated read time for each article
- Full article extraction for truncated feeds
- Mark articles as read/unread and starred
- **Archive articles** - Archive articles to keep them organized separately
- Reading lists for saving articles
- **Copy as Markdown** - Export articles in Markdown format via context menu
- **Print articles** - Print articles with proper formatting and metadata

### ðŸŽ¨ Modern UI

- Native macOS design with liquid glass effects
- Dark/Light mode toggle (in sidebar or Settings)
- Smooth animations and hover effects
- Three-column layout (Sidebar, List, Detail)
- Comprehensive Settings window (âŒ˜,) for customization
- **Dock badge** showing unread article count
- **Dock menu** with quick actions (New Feed, Refresh, Mark All Read, Settings)
- **Full keyboard navigation** with vim-style shortcuts

### â˜€ï¸ Weather Widget

- Local weather display in sidebar (toggleable in Settings)
- 7-day forecast with tap for details
- Dynamic weather icons with color coding
- Auto-detect location or set custom location

### ðŸ’¾ Backup & Import

- Export library to JSON (complete backup with feeds, folders, and reading lists)
- Export feeds to OPML (standard RSS format for portability)
- Import from JSON or OPML files
- Automatic duplicate detection during import
- Accessible via File menu or Settings window

### âŒ¨ï¸ Keyboard Shortcuts

- **J/K** - Navigate to next/previous article
- **M** - Mark article as read/unread
- **S** - Toggle star on article
- **V** - Open article in browser
- **âŒ˜R** - Refresh all feeds
- **âŒ˜N** - Add new feed
- **âŒ˜â‡§A** - Mark all articles as read
- **âŒ˜â‡§N** - Add new folder
- **âŒ˜,** - Open Settings
- **âŒ˜â‡§E** - Export to JSON
- **âŒ˜â‡§I** - Import from JSON

### âš¡ Performance & Optimization

- **Load images toggle** - Disable image loading to save bandwidth
- **Background refresh control** - Enable/disable background feed updates
- **Max articles per feed** - Configurable limit (100-1000 articles)
- **Smart cleanup** - Automatically remove old articles (configurable 7-90 days)
- **Manual cleanup** - One-click cleanup of old articles (preserves starred/archived)
- Optimized database queries and SwiftData performance

### ðŸ”§ Additional Features

- Reddit, Mastodon, and Lemmy feed support
- Paywall bypass options (12ft.io, Archive.today)
- Europresse integration for press archives
- File-based configuration (`~/Library/Application Support/LireFlow/config.json`)

## Requirements

- macOS 14.0 (Sonoma) or later
- Xcode 15.0 or later

## Installation

### Option 1: Homebrew (Recommended)

```bash
brew tap m0etez/lireflow
brew install --cask lireflow
```

Or install in one command:

```bash
brew install --cask m0etez/lireflow/lireflow
```

### Option 2: Download DMG

Download the latest release from the [releases page](https://github.com/m0etez/LireFlow/releases/latest).

### Option 3: Build from Source

1. Clone the repository:

   ```bash
   git clone https://github.com/m0etez/LireFlow.git
   cd LireFlow
   ```

2. Open in Xcode:

   ```bash
   open LireFlow.xcodeproj
   ```

3. Build and run (âŒ˜R)

## Project Structure

```
LireFlow/
â”œâ”€â”€ LireFlowApp.swift           # App entry point
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ Article.swift           # Article data model
â”‚   â”œâ”€â”€ Feed.swift              # Feed data model
â”‚   â”œâ”€â”€ Folder.swift            # Folder data model
â”‚   â”œâ”€â”€ ReadingList.swift       # Reading list model
â”‚   â””â”€â”€ ExportableModels.swift  # Export/import DTOs
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ FeedParser.swift        # RSS/Atom parsing
â”‚   â”œâ”€â”€ FeedService.swift       # Feed management
â”‚   â”œâ”€â”€ ArticleExtractor.swift  # Full article extraction
â”‚   â”œâ”€â”€ WeatherService.swift    # Weather API integration
â”‚   â”œâ”€â”€ ConfigService.swift     # File-based settings
â”‚   â”œâ”€â”€ ExportService.swift     # JSON/OPML export
â”‚   â”œâ”€â”€ ImportService.swift     # JSON/OPML import
â”‚   â””â”€â”€ DefaultFeeds.swift      # Starter feed suggestions
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ ContentView.swift       # Main app layout
â”‚   â”œâ”€â”€ Sidebar/
â”‚   â”‚   â”œâ”€â”€ SidebarView.swift
â”‚   â”‚   â”œâ”€â”€ WeatherWidget.swift
â”‚   â”‚   â””â”€â”€ WeatherDetailPopover.swift
â”‚   â”œâ”€â”€ Articles/
â”‚   â”‚   â”œâ”€â”€ ArticleListView.swift
â”‚   â”‚   â””â”€â”€ ArticleDetailView.swift
â”‚   â””â”€â”€ Sheets/
â”‚       â”œâ”€â”€ AddFeedSheet.swift
â”‚       â”œâ”€â”€ AddFolderSheet.swift
â”‚       â”œâ”€â”€ AddReadingListSheet.swift
â”‚       â””â”€â”€ SettingsSheet.swift
â””â”€â”€ Utilities/
    â””â”€â”€ Extensions.swift
```

## Configuration

Access Settings via **âŒ˜,** or the **LireFlow > Settings** menu.

### Settings Tabs

**General:**
- Appearance (Dark/Light mode)
- Show/hide unread count badges
- Article font size (12-24pt)
- Mark as read on scroll
- Feed refresh interval
- Default feed category
- Weather widget visibility
- Custom weather location
- Performance settings:
  - Load images toggle
  - Background refresh control
  - Max articles per feed (100-1000)
  - Cleanup old articles (7-90 days)
  - Manual cleanup button

**Backup & Import:**
- Export to JSON (complete library backup)
- Export to OPML (feeds only)
- Import from JSON or OPML
- Automatic duplicate detection

**About:**
- App version and information
- GitHub repository link
- Twitter/social links
- "Built with Claude" attribution

All settings are automatically saved to:
```
~/Library/Application Support/LireFlow/config.json
```

## Technologies

- **SwiftUI** - Modern declarative UI
- **SwiftData** - Persistent data storage
- **WebKit** - Article rendering
- **CoreLocation** - Weather location
- **Open-Meteo API** - Weather data (free, no API key)

## License

MIT License - see [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

[![ko-fi](https://ko-fi.com/img/githubbutton_sm.svg)](https://ko-fi.com/R5R5E8VSB)
